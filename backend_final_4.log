INFO:     Will watch for changes in these directories: ['/Users/hrudai/Desktop/CODE GROUND/AVE FINAL/backend']
INFO:     Uvicorn running on http://0.0.0.0:8001 (Press CTRL+C to quit)
INFO:     Started reloader process [46088] using WatchFiles
python-dotenv could not parse statement starting at line 1
python-dotenv could not parse statement starting at line 1
python-dotenv could not parse statement starting at line 1
python-dotenv could not parse statement starting at line 1
python-dotenv could not parse statement starting at line 1
python-dotenv could not parse statement starting at line 1
python-dotenv could not parse statement starting at line 1
python-dotenv could not parse statement starting at line 1
python-dotenv could not parse statement starting at line 1
python-dotenv could not parse statement starting at line 1
Process SpawnProcess-1:
Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.13/site-packages/crewai/llms/providers/gemini/completion.py", line 229, in _initialize_client
    return genai.Client(**client_params)
           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.13/site-packages/google/genai/client.py", line 271, in __init__
    self._api_client = self._get_api_client(
                       ~~~~~~~~~~~~~~~~~~~~^
        vertexai=vertexai,
        ^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
        http_options=http_options,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/homebrew/lib/python3.13/site-packages/google/genai/client.py", line 318, in _get_api_client
    return BaseApiClient(
        vertexai=vertexai,
    ...<4 lines>...
        http_options=http_options,
    )
  File "/opt/homebrew/lib/python3.13/site-packages/google/genai/_api_client.py", line 676, in __init__
    raise ValueError(
    ...<3 lines>...
    )
ValueError: Missing key inputs argument! To use the Google AI API, provide (`api_key`) arguments. To use the Google Cloud API, provide (`vertexai`, `project` & `location`) arguments.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.13/site-packages/crewai/llm.py", line 413, in __new__
    native_class(model=model_string, provider=provider, **kwargs_copy),
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.13/site-packages/crewai/llms/providers/gemini/completion.py", line 121, in __init__
    self.client = self._initialize_client(use_vertexai)
                  ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.13/site-packages/crewai/llms/providers/gemini/completion.py", line 231, in _initialize_client
    raise ValueError(
    ...<6 lines>...
    ) from e
ValueError: Authentication required. Provide one of:
  1. API key via GOOGLE_API_KEY or GEMINI_API_KEY environment variable
     (use_vertexai=True is optional for Vertex AI with API key)
  2. For Vertex AI with ADC: Set GOOGLE_CLOUD_PROJECT and run:
     gcloud auth application-default login
  3. Pass api_key parameter directly to LLM constructor


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/opt/homebrew/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/opt/homebrew/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/opt/homebrew/lib/python3.13/site-packages/uvicorn/config.py", line 439, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/opt/homebrew/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/hrudai/Desktop/CODE GROUND/AVE FINAL/backend/app/main.py", line 9, in <module>
    from .routers import api, system
  File "/Users/hrudai/Desktop/CODE GROUND/AVE FINAL/backend/app/routers/api.py", line 6, in <module>
    from ..crew.crew import run_validation_crew
  File "/Users/hrudai/Desktop/CODE GROUND/AVE FINAL/backend/app/crew/crew.py", line 14, in <module>
    from .agents import extraction_agent, enrichment_agent, qa_agent
  File "/Users/hrudai/Desktop/CODE GROUND/AVE FINAL/backend/app/crew/agents.py", line 14, in <module>
    llm = LLM(
        model="gemini/gemini-2.5-flash",
        api_key=os.getenv("GEMINI_API_KEY")
    )
  File "/opt/homebrew/lib/python3.13/site-packages/crewai/llm.py", line 418, in __new__
    raise ImportError(f"Error importing native provider: {e}") from e
ImportError: Error importing native provider: Authentication required. Provide one of:
  1. API key via GOOGLE_API_KEY or GEMINI_API_KEY environment variable
     (use_vertexai=True is optional for Vertex AI with API key)
  2. For Vertex AI with ADC: Set GOOGLE_CLOUD_PROJECT and run:
     gcloud auth application-default login
  3. Pass api_key parameter directly to LLM constructor

